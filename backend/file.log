2025/03/10 10:57:25 server.go:27: Starting server on :8080
2025/03/10 10:57:48 user_repo.go:33: <nil>
2025/03/10 10:57:48 auth_controller.go:37: omar.rharbi
2025/03/10 10:58:24 user_repo.go:33: <nil>
2025/03/10 10:58:24 auth_controller.go:37: omar429
2025/03/10 10:59:11 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 10:59:49 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:00:13 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:01:44 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:01:48 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:02:57 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:02:58 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:03:26 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:04:05 server.go:27: Starting server on :8080
2025/03/10 11:04:12 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:04:53 server.go:27: Starting server on :8080
2025/03/10 11:06:20 server.go:27: Starting server on :8080
2025/03/10 11:06:24 notification_controller.go:18: error Get Notification: no such column: group_id
2025/03/10 11:06:24 notification_controller.go:18: error Get Notification: no such column: group_id
2025/03/10 11:06:56 server.go:27: Starting server on :8080
2025/03/10 11:08:37 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:08:39 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:08:46 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:08:49 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:09:17 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:09:45 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:09:55 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:13:54 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:13:54 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:14:27 server.go:3634: http: panic serving [::1]:57174: concurrent write to websocket connection
goroutine 274 [running]:
net/http.(*conn).serve.func1()
	/home/omrharbi/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.24.0.linux-amd64/src/net/http/server.go:1947 +0xbe
panic({0x854380?, 0x963170?})
	/home/omrharbi/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.24.0.linux-amd64/src/runtime/panic.go:787 +0x132
github.com/gorilla/websocket.(*messageWriter).flushFrame(0xc000146300, 0x1, {0x0?, 0x4712f9?, 0x30?})
	/home/omrharbi/go/pkg/mod/github.com/gorilla/websocket@v1.5.3/conn.go:617 +0x4af
github.com/gorilla/websocket.(*messageWriter).Close(0x883020?)
	/home/omrharbi/go/pkg/mod/github.com/gorilla/websocket@v1.5.3/conn.go:731 +0x35
github.com/gorilla/websocket.(*Conn).beginMessage(0xc0001798c0, 0xc000146390, 0x1)
	/home/omrharbi/go/pkg/mod/github.com/gorilla/websocket@v1.5.3/conn.go:480 +0x37
github.com/gorilla/websocket.(*Conn).NextWriter(0xc0001798c0, 0x1)
	/home/omrharbi/go/pkg/mod/github.com/gorilla/websocket@v1.5.3/conn.go:520 +0x3f
github.com/gorilla/websocket.(*Conn).WriteJSON(0x877360?, {0x877360, 0xc000146360})
	/home/omrharbi/go/pkg/mod/github.com/gorilla/websocket@v1.5.3/json.go:24 +0x34
social-network/app/controllers.BroadcastOnlineUsers()
	/home/omrharbi/mysocialnetwork/backend/app/controllers/Websocket_controller.go:173 +0x1b5
social-network/app/controllers.RemoveClient(0xc0003a22c0)
	/home/omrharbi/mysocialnetwork/backend/app/controllers/Websocket_controller.go:158 +0x12a
panic({0x854380?, 0x963170?})
	/home/omrharbi/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.24.0.linux-amd64/src/runtime/panic.go:787 +0x132
github.com/gorilla/websocket.(*messageWriter).flushFrame(0xc000146300, 0x1, {0x0?, 0xc0003a61c0?, 0xc0000c3668?})
	/home/omrharbi/go/pkg/mod/github.com/gorilla/websocket@v1.5.3/conn.go:617 +0x4af
github.com/gorilla/websocket.(*messageWriter).Close(0xc0000c36d8?)
	/home/omrharbi/go/pkg/mod/github.com/gorilla/websocket@v1.5.3/conn.go:731 +0x35
github.com/gorilla/websocket.(*Conn).WriteJSON(0x877360?, {0x877360, 0xc0001462d0})
	/home/omrharbi/go/pkg/mod/github.com/gorilla/websocket@v1.5.3/json.go:29 +0xd6
social-network/app/controllers.BroadcastOnlineUsers()
	/home/omrharbi/mysocialnetwork/backend/app/controllers/Websocket_controller.go:173 +0x1b5
social-network/app/controllers.AddClient(0xc0003a22c0, 0x2, {0xc0004080c8, 0x8})
	/home/omrharbi/mysocialnetwork/backend/app/controllers/Websocket_controller.go:143 +0x13f
social-network/app/controllers.HandleWebsocket({0x966cd8?, 0xc000396000?}, 0xc0003ae000)
	/home/omrharbi/mysocialnetwork/backend/app/controllers/Websocket_controller.go:37 +0x2a5
net/http.HandlerFunc.ServeHTTP(0xc000207180?, {0x966cd8?, 0xc000396000?}, 0x9618d0?)
	/home/omrharbi/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.24.0.linux-amd64/src/net/http/server.go:2294 +0x29
social-network/app.SetupRoutes.AuthMiddleware.func25({0x966cd8, 0xc000396000}, 0xc000207180)
	/home/omrharbi/mysocialnetwork/backend/middleware/session_middleware.go:39 +0x1cb
net/http.HandlerFunc.ServeHTTP(0xc0005ac000?, {0x966cd8?, 0xc000396000?}, 0x8df438?)
	/home/omrharbi/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.24.0.linux-amd64/src/net/http/server.go:2294 +0x29
net/http.(*ServeMux).ServeHTTP(0xc000146090?, {0x966cd8, 0xc000396000}, 0xc000207180)
	/home/omrharbi/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.24.0.linux-amd64/src/net/http/server.go:2822 +0x1c4
main.main.WithCORS.func1({0x966cd8, 0xc000396000}, 0xc000207180)
	/home/omrharbi/mysocialnetwork/backend/middleware/open_Crose.go:20 +0x173
net/http.HandlerFunc.ServeHTTP(0x4706f9?, {0x966cd8?, 0xc000396000?}, 0xc0001ebb70?)
	/home/omrharbi/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.24.0.linux-amd64/src/net/http/server.go:2294 +0x29
net/http.serverHandler.ServeHTTP({0xc0004c5e30?}, {0x966cd8?, 0xc000396000?}, 0x6?)
	/home/omrharbi/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.24.0.linux-amd64/src/net/http/server.go:3301 +0x8e
net/http.(*conn).serve(0xc00017a7e0, {0x9671e8, 0xc000127590})
	/home/omrharbi/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.24.0.linux-amd64/src/net/http/server.go:2102 +0x625
created by net/http.(*Server).Serve in goroutine 1
	/home/omrharbi/go/pkg/mod/golang.org/toolchain@v0.0.1-go1.24.0.linux-amd64/src/net/http/server.go:3454 +0x485
2025/03/10 11:14:39 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:14:39 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:14:39 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:16:03 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:16:09 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:16:21 user_repo.go:33: <nil>
2025/03/10 11:16:21 auth_controller.go:37: testtest
2025/03/10 11:16:40 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:16:45 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:17:55 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:17:55 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:17:55 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:17:55 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:25:07 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:27:29 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:27:35 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:33:38 server.go:27: Starting server on :8080
2025/03/10 11:33:43 user_profile_controller.go:104: sql: expected 5 destination arguments in Scan, not 4
2025/03/10 11:34:24 server.go:27: Starting server on :8080
2025/03/10 11:34:42 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:43:48 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:45:07 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:45:25 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:45:30 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:45:40 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:46:10 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:46:11 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:46:43 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:46:45 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:46:46 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:48:34 server.go:27: Starting server on :8080
2025/03/10 11:48:45 follow_controller.go:41: {0 1 2 accept }
2025/03/10 11:56:46 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:57:02 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:57:19 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:58:31 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:59:15 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:59:35 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 11:59:36 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:00:03 follow_controller.go:41: {0 1 2 accept }
2025/03/10 12:00:04 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:05:20 user_repo.go:33: <nil>
2025/03/10 12:05:20 auth_controller.go:37: testtest
2025/03/10 12:05:25 follow_controller.go:41: {0 2 1 pending }
2025/03/10 12:05:34 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:06:12 follow_controller.go:41: {0 2 1  }
2025/03/10 12:06:13 follow_controller.go:41: {0 2 1 pending }
2025/03/10 12:06:33 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:06:36 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:06:53 follow_controller.go:41: {0 1 2 accept }
2025/03/10 12:07:19 follow_controller.go:41: {0 2 1 pending }
2025/03/10 12:08:10 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:08:11 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:08:40 follow_controller.go:41: {0 2 1 pending }
2025/03/10 12:09:01 follow_controller.go:41: {0 1 2 accept }
2025/03/10 12:09:06 follow_controller.go:41: {0 2 1  }
2025/03/10 12:09:08 follow_controller.go:41: {0 2 1 pending }
2025/03/10 12:09:50 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:09:51 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:11:07 follow_controller.go:41: {0 2 1 pending }
2025/03/10 12:11:11 follow_controller.go:41: {0 1 2 accept }
2025/03/10 12:11:24 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:46:04 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 12:46:04 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 13:26:08 server.go:27: Starting server on :8080
2025/03/10 13:26:36 user_repo.go:33: <nil>
2025/03/10 13:26:36 auth_controller.go:37: omar363
2025/03/10 13:27:53 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 13:29:55 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 13:30:52 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 13:36:36 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 13:36:40 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 13:36:58 posts_controller.go:50: 0
2025/03/10 13:53:18 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 13:57:32 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 14:01:54 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
2025/03/10 14:03:37 Websocket_controller.go:47: Failed to read message: websocket: close 1001 (going away)
